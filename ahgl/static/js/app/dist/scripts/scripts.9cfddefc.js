"use strict";angular.module("config",[]).constant("ENV",{name:"development",apiEndpoint:"http://127.0.0.1:8000"}),angular.module("ahglApp",["config","ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-carousel"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("ahglApp").controller("MainCtrl",function(){}),angular.module("ahglApp").controller("HeaderCtrl",["$scope","headerSvc",function(a,b){b.fetchHeaderInfo().then(function(b){if(a.gameImages=[],b.data||b.data.results)for(var c,d=0;c=b.data.results[d];d++)a.gameImages.push(b.data.results[d].image_url)})}]),angular.module("ahglApp").controller("LiveStreamCtrl",["$scope","$sce","liveStreamSvc","urlSvc",function(a,b,c,d){c.fetchStreams().then(function(c){a.liveStream=!0,a.channel_name=c.channelName,a.chat_url=b.trustAsResourceUrl(d.chatUrl.replace("{{channelName}}",c.channelName)),a.live_stream_logo=b.trustAsResourceUrl(c.gameImageUrl),a.streamTitle=c.channelName})}]),angular.module("ahglApp").controller("CarouselCtrl",["$scope","carouselSvc","$sce",function(a,b,c){a.carouselInterval=5e3,a.slides=[],b.fetchCarousels().then(function(b){b.data.results.forEach(function(b){b.message=c.trustAsHtml(b.message),a.slides.push(b)})})}]),angular.module("ahglApp").service("urlSvc",["ENV",function(a){this.carouselUrl=a.apiEndpoint+"/api/carousel/?format=json",this.headerInfoUrl=a.apiEndpoint+"/api/header/?format=json",this.gamesUrl=a.apiEndpoint+"/api/games/?format=json",this.streamUrl="https://api.twitch.tv/kraken/streams/{{channelName}}?callback=JSON_CALLBACK",this.chatUrl="http://twitch.tv/chat/embed?channel={{channelName}}&amp;popout_chat=false"}]),angular.module("ahglApp").service("headerSvc",["$sce","$http","urlSvc",function(a,b,c){this.fetchHeaderInfo=function(){return b.get(c.headerInfoUrl)}}]),angular.module("ahglApp").service("liveStreamSvc",["$sce","$http","$q","urlSvc",function(a,b,c,d){this.fetchStreams=function(){var a=c.defer();return this.fetchGames().then(function(e){var f=[];e.data.results.forEach(function(a){f.push(b.jsonp(d.streamUrl.replace("{{channelName}}",a.channel_name)))}),c.all(f).then(function(b){b.some(function(b,c){if(b.data.stream){var d=e.data.results[c],f=d.channel_name,g=d.live_stream_image_url;return a.resolve({channelName:f,gameImageUrl:g}),!0}})})}),a.promise},this.fetchGames=function(){return b.get(a.trustAsResourceUrl(d.gamesUrl))}}]),angular.module("ahglApp").service("carouselSvc",["$sce","$http","$q","urlSvc",function(a,b,c,d){this.fetchCarousels=function(){return b.get(d.carouselUrl)}}]),angular.module("ahglApp").run(["$templateCache",function(a){a.put("views/carousel.html",'<div ng-controller=CarouselCtrl class=carousel-container><ul rn-carousel rn-carousel-control><li ng-repeat="slide in slides"><img ng-src="{{slide.image_url}}"><div class=mask></div><div class=fade></div><div class=message><span ng-bind-html=slide.message></span></div></li></ul></div>'),a.put("views/footer.html","<div class=bar><ul><li>HANDBOOK |</li><li>FAQ |</li><li>PRESS |</li><li>PAST SEASONS |</li><li>LEADERSHIP |</li><li>CONTACT</li></ul></div><div class=social><ul><li class=facebook></li><li class=twitter></li><li class=youtube></li><li class=twitch></li></ul></div><div class=misc><div class=terms><div>TERMS OF USE</div><div>Â©2014 JINK.TV. ALL RIGHTS RESERVED</div></div><div class=icon></div><div class=built-by><div>SITE BUILT BY <b>NATHANIEL TUCKER</b></div><div>AND DESIGNED BY <b>REDICE</b></div></div></div>"),a.put("views/header.html",'<div class=logo></div><div class=bar ng-controller=HeaderCtrl><span ng-repeat="url in gameImages"><img class="game1 game" ng-src="{{url}}"></span></div><div class=navigation><ul><li>VIDEOS</li><li>CASTERS</li><li>TEAMS</li><li>SCHEDULE</li><li>STANDINGS</li></ul></div>'),a.put("views/liveStream.html",'<div ng-controller=LiveStreamCtrl class=livestream-container ng-show=liveStream><div class=header></div><div class=title-container><img class=logo ng-src="{{live_stream_logo}}"><div class=title>{{streamTitle}}</div><div class=currently-playing>Currently Playing</div></div><div class=stream-container><object type=application/x-shockwave-flash height=500 width=600 id=live_embed_player_flash data="http://www.twitch.tv/widgets/live_embed_player.swf?channel={{channel_name}}" bgcolor=#000000 class=twitch-container><param name=allowFullScreen value="true"><param name=allowScriptAccess value="always"><param name=allowNetworking value="all"><param name=movie value="http://www.twitch.tv/widgets/live_embed_player.swf"><param name=flashvars value="hostname=www.twitch.tv&channel={{channel_name}}&auto_play=true&start_volume=50"></object><iframe class=chat-container frameborder=0 scrolling=no id=chat_embed ng-src={{chat_url}}></iframe></div></div>'),a.put("views/main.html","<header ng-include=\"'views/header.html'\"></header><div class=carousel ng-include=\"'views/carousel.html'\"></div><div class=live-stream ng-include=\"'views/liveStream.html'\"></div><div class=featured-matches></div><div class=latest-news></div><footer ng-include=\"'views/footer.html'\"></footer>")}]);